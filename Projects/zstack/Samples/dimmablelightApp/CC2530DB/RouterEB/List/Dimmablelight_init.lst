###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.1.10194/W32 for 8051         24/Dec/2025  16:56:24 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\Sou #
#                          rce\Dimmablelight_init.c                           #
#    Command line       =  -f E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ #
#                          ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightApp\ #
#                          CC2530DB\..\..\..\Tools\CC2530DB\f8wRouter.cfg     #
#                          (-DCPU32MHZ -DROOT=__near_func                     #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8         #
#                          -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f                   #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg        #
#                          (-DZIGBEEPRO -DSECURE=0 -DZG_SECURE_DYNAMIC=0      #
#                          -DREFLECTOR -DDEFAULT_CHANLIST26=0x04000000        #
#                          -DDEFAULT_CHANLIST25=0x02000000                    #
#                          -DDEFAULT_CHANLIST24=0x01000000                    #
#                          -DDEFAULT_CHANLIST23=0x00800000                    #
#                          -DDEFAULT_CHANLIST22=0x00400000                    #
#                          -DDEFAULT_CHANLIST21=0x00200000                    #
#                          -DDEFAULT_CHANLIST20=0x00100000                    #
#                          -DDEFAULT_CHANLIST19=0x00080000                    #
#                          -DDEFAULT_CHANLIST18=0x00040000                    #
#                          -DDEFAULT_CHANLIST17=0x00020000                    #
#                          -DDEFAULT_CHANLIST16=0x00010000                    #
#                          -DDEFAULT_CHANLIST15=0x00008000                    #
#                          -DDEFAULT_CHANLIST14=0x00004000                    #
#                          -DDEFAULT_CHANLIST13=0x00002000                    #
#                          -DDEFAULT_CHANLIST12=0x00001000                    #
#                          -DDEFAULT_CHANLIST11=0x00000800                    #
#                          -DDEFAULT_CHANLIST=DEFAULT_CHANLIST25              #
#                          -DZDAPP_CONFIG_PAN_ID=0x0006                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 E:\´«¸ÐÆ÷ZStack-CC2530\´«¸Ð #
#                          Æ÷ZStack-CC2530-ÊµÑµ×îÖÕ°æ±¾\Projects\zstack\Sampl #
#                          es\dimmablelightApp\Source\Dimmablelight_init.c    #
#                          -D ZTOOL_P1 -D MT_TASK -D MT_SYS_FUNC -D           #
#                          MT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG -lC             #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\RouterEB\List\ -lA                           #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\RouterEB\List\ --diag_suppress Pe001,Pa010   #
#                          -o E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ #
#                          ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightApp\ #
#                          CC2530DB\RouterEB\Obj\ -e --no_code_motion         #
#                          --debug --core=plain --dptr=16,1                   #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ #
#                          ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightApp\ #
#                          CC2530DB\ -I E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-C #
#                          C2530-ÊµÑµ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmabl #
#                          elightApp\CC2530DB\..\Source\ -I                   #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\ZMain\TI2530DB\ -I                  #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\hal\include\ -I    #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\hal\target\CC2530E #
#                          B\ -I E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-Ê #
#                          µÑµ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightA #
#                          pp\CC2530DB\..\..\..\..\..\Components\mac\include\ #
#                           -I E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑ #
#                          µ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightApp #
#                          \CC2530DB\..\..\..\..\..\Components\mac\high_level #
#                          \ -I E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-Êµ #
#                          Ñµ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightAp #
#                          p\CC2530DB\..\..\..\..\..\Components\mac\low_level #
#                          \srf04\ -I E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2 #
#                          530-ÊµÑµ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablel #
#                          ightApp\CC2530DB\..\..\..\..\..\Components\mac\low #
#                          _level\srf04\single_chip\ -I                       #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\mt\ -I             #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\osal\include\ -I   #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\services\saddr\    #
#                          -I E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ #
#                          ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightApp\ #
#                          CC2530DB\..\..\..\..\..\Components\services\sdata\ #
#                           -I E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑ #
#                          µ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightApp #
#                          \CC2530DB\..\..\..\..\..\Components\stack\af\ -I   #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\stack\nwk\ -I      #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\stack\sapi\ -I     #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\stack\sec\ -I      #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\stack\sys\ -I      #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\stack\zdo\ -I      #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\zmac\ -I           #
#                          E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\..\..\..\..\..\Components\zmac\f8w\ -Ohz     #
#                          --require_prototypes                               #
#    List file          =  E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\RouterEB\List\Dimmablelight_init.lst         #
#    Object file        =  E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖ #
#                          Õ°æ±¾\Projects\zstack\Samples\dimmablelightApp\CC2 #
#                          530DB\RouterEB\Obj\Dimmablelight_init.r51          #
#                                                                             #
#                                                                             #
###############################################################################

E:\´«¸ÐÆ÷ZStack-CC2530\´«¸ÐÆ÷ZStack-CC2530-ÊµÑµ×îÖÕ°æ±¾\Projects\zstack\Samples\dimmablelightApp\Source\Dimmablelight_init.c
      1          #include <ioCC2530.h>

   \                                 In  segment SFR_AN, at 0x80
   \   union <unnamed> volatile __sfr _A_P0
   \                     _A_P0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xa8
   \   union <unnamed> volatile __sfr _A_IEN0
   \                     _A_IEN0:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xb8
   \   union <unnamed> volatile __sfr _A_IEN1
   \                     _A_IEN1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xda
   \   unsigned char volatile __sfr T1CC0L
   \                     T1CC0L:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xdb
   \   unsigned char volatile __sfr T1CC0H
   \                     T1CC0H:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xe4
   \   unsigned char volatile __sfr T1CTL
   \                     T1CTL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xf3
   \   unsigned char volatile __sfr P0SEL
   \                     P0SEL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfd
   \   unsigned char volatile __sfr P0DIR
   \                     P0DIR:
   \   000000                DS 1
      2          #include "Dimmablelight.h"
      3          
      4          
      5          
      6          // Õ¼¿Õ±È±äÁ¿£¨0~100£¬¶ÔÓ¦ÁÁ¶È0~100%£© ºóÐø»¹Òª×öÒ»¸öÓ³Éä°ÑÐ­µ÷Æ÷´«À´µÄ0-255Ó³Éäµ½0-100ÉÏ

   \                                 In  segment XDATA_Z, align 1, keep-with-next
      7          unsigned char msDlCount=0;     // ºìÉ«Õ¼¿Õ±È
   \                     msDlCount:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
      8          unsigned char msBlueCount=0;  // ÂÌÉ«Õ¼¿Õ±È
   \                     msBlueCount:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
      9          unsigned char msRedCount=0;    // À¶É«Õ¼¿Õ±È
   \                     msRedCount:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     10          unsigned char msGreenCount=0;   // PWMÖÜÆÚ¼ÆÊý£¨0~100£¬¶ÔÓ¦100msÖÜÆÚ£©
   \                     msGreenCount:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     11          
     12          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     13          void DimLightRouterApp_InitDimLightHardware(void)
   \                     DimLightRouterApp_InitDimLightHardware:
     14          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     15            // ³õÊ¼»¯GPIOÎªÊä³öÄ£Ê½£¨¸ù¾Ýµ÷¹âµÆPDFÎÄµµ£©
     16            // P0.1, P0.6, P0.7 ×÷Îªµ÷¹âµÆ¿ØÖÆÒý½Å
     17           P0DIR |= (0x01<<1) | (0x01<<6) | (0x01<<7);  // ÉèÖÃP0.1/6/7ÎªÊä³ö
   \   000000   43FDC2       ORL     0xfd,#0xc2
     18           
     19           //¹Ø±Õµç´ÅËø£¬µç´ÅËø²»ÄÜ³£¿ª»áÉÕ»µ
     20          P0SEL &= ~(0x01 << 4);
   \   000003   53F3EF       ANL     0xf3,#0xef
     21          P0DIR |= (0x01 << 4);
   \   000006   43FD10       ORL     0xfd,#0x10
     22          P0_4 =0;
   \   000009   C284         CLR     0x80.4
     23          
     24          
     25            // ¶¨Ê±Æ÷1³õÊ¼»¯ÉèÖÃ     ¶¨Òå¶¨Ê±Æ÷Òç³öµÄÊ±¼ä
     26              T1CC0L = 0xFA;      // µÍ×Ö½Ú
   \   00000B   75DAFA       MOV     0xda,#-0x6
     27              T1CC0H = 0x00;      // ¸ß×Ö½Ú£¬¶¨Ê±1ms   0xFA00
   \   00000E   75DB00       MOV     0xdb,#0x0
     28              T1CTL = 0x33;       // Í¨µÀ0£¬²»·ÖÆµ£¬up/downÄ£Ê½
   \   000011   75E433       MOV     0xe4,#0x33
     29          
     30              // Ê¹ÄÜÖÐ¶Ï
     31              EA = 1;             // ¿ªÆôÈ«¾ÖÖÐ¶Ï
   \   000014   D2AF         SETB    0xa8.7
     32              T1IE = 1;          // ¿ªÆô¶¨Ê±Æ÷1ÖÐ¶Ï
   \   000016   D2B9         SETB    0xb8.1
     33            
     34          }
   \   000018   02....       LJMP    ?BRET
   \   00001B                REQUIRE P0DIR
   \   00001B                REQUIRE P0SEL
   \   00001B                REQUIRE _A_P0
   \   00001B                REQUIRE T1CC0L
   \   00001B                REQUIRE T1CC0H
   \   00001B                REQUIRE T1CTL
   \   00001B                REQUIRE _A_IEN0
   \   00001B                REQUIRE _A_IEN1
     35          
     36          
     37          /****************************************************************
     38          ¶¨Ê±Æ÷ÖÐ¶ÏÖÐ¿ØÖÆµ÷¹âµÆIOÊä³ö×´Ì¬
     39          ***********************************************************/
     40          #pragma vector=T1_VECTOR

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
     41          __interrupt void Timer1(void)
   \                     Timer1:
     42          {
   \   000000   C0E0         PUSH    A
   \   000002   C0D0         PUSH    PSW
   \   000004   E8           MOV     A,R0
   \   000005   C0E0         PUSH    A
   \   000007   C082         PUSH    DPL
   \   000009   C083         PUSH    DPH
   \   00000B                ; Saved register size: 5
   \   00000B                ; Auto size: 0
     43            ++msDlCount;
   \   00000B   90....       MOV     DPTR,#msDlCount
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   04           INC     A
   \   000010   F0           MOVX    @DPTR,A
     44            msDlCount = (msDlCount >= 100) ? 0 : msDlCount;
   \   000011   C3           CLR     C
   \   000012   9464         SUBB    A,#0x64
   \   000014   4002         JC      ??Timer1_0
   \   000016   E4           CLR     A
   \   000017   F0           MOVX    @DPTR,A
     45            P0_1 = (msDlCount <= msBlueCount) ? 1 : 0;
   \                     ??Timer1_0:
   \   000018   E0           MOVX    A,@DPTR
   \   000019   F8           MOV     R0,A
   \   00001A   90....       MOV     DPTR,#msBlueCount
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   C3           CLR     C
   \   00001F   98           SUBB    A,R0
   \   000020   4004         JC      ??Timer1_1
   \   000022   7401         MOV     A,#0x1
   \   000024   8001         SJMP    ??Timer1_2
   \                     ??Timer1_1:
   \   000026   E4           CLR     A
   \                     ??Timer1_2:
   \   000027   C3           CLR     C
   \   000028   33           RLC     A
   \   000029   F8           MOV     R0,A
   \   00002A   E580         MOV     A,0x80
   \   00002C   54FD         ANL     A,#0xfd
   \   00002E   12....       LCALL   ?Subroutine0
     46            P0_6 = (msDlCount <= msRedCount) ? 1 : 0;
   \                     ??CrossCallReturnLabel_0:
   \   000031   90....       MOV     DPTR,#msRedCount
   \   000034   E0           MOVX    A,@DPTR
   \   000035   C3           CLR     C
   \   000036   98           SUBB    A,R0
   \   000037   4004         JC      ??Timer1_3
   \   000039   7401         MOV     A,#0x1
   \   00003B   8001         SJMP    ??Timer1_4
   \                     ??Timer1_3:
   \   00003D   E4           CLR     A
   \                     ??Timer1_4:
   \   00003E   C4           SWAP    A
   \   00003F   33           RLC     A
   \   000040   33           RLC     A
   \   000041   54C0         ANL     A,#0xc0
   \   000043   F8           MOV     R0,A
   \   000044   E580         MOV     A,0x80
   \   000046   54BF         ANL     A,#0xbf
   \   000048   12....       LCALL   ?Subroutine0
     47            P0_7 = (msDlCount <= msGreenCount) ? 1 : 0;
   \                     ??CrossCallReturnLabel_1:
   \   00004B   90....       MOV     DPTR,#msGreenCount
   \   00004E   E0           MOVX    A,@DPTR
   \   00004F   C3           CLR     C
   \   000050   98           SUBB    A,R0
   \   000051   4004         JC      ??Timer1_5
   \   000053   7801         MOV     R0,#0x1
   \   000055   8002         SJMP    ??Timer1_6
   \                     ??Timer1_5:
   \   000057   7800         MOV     R0,#0x0
   \                     ??Timer1_6:
   \   000059   E8           MOV     A,R0
   \   00005A   A2E0         MOV     C,0xE0 /* A   */.0
   \   00005C   9287         MOV     0x80.7,C
     48          }
   \   00005E   D083         POP     DPH
   \   000060   D082         POP     DPL
   \   000062   D0E0         POP     A
   \   000064   F8           MOV     R0,A
   \   000065   D0D0         POP     PSW
   \   000067   D0E0         POP     A
   \   000069   32           RETI
   \   00006A                REQUIRE _A_P0

   \                                 In  segment NEAR_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   48           ORL     A,R0
   \   000001   F580         MOV     0x80,A
   \   000003   90....       MOV     DPTR,#msDlCount
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F8           MOV     R0,A
   \   000008   22           RET
     49          
     50          
     51          
     52          /*¸ù¾Ý´«ÈëµÄÊý¾Ý½øÐÐµÆ¹âÇÐ»»*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     53          void LED_change(unsigned char RGB_Blue,unsigned char RGB_Red,unsigned char RGB_Green)
   \                     LED_change:
     54          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
     55            msBlueCount = RGB_Blue;
   \   000004   E9           MOV     A,R1
   \   000005   90....       MOV     DPTR,#msBlueCount
   \   000008   F0           MOVX    @DPTR,A
     56            msRedCount = RGB_Red;
   \   000009   EA           MOV     A,R2
   \   00000A   90....       MOV     DPTR,#msRedCount
   \   00000D   F0           MOVX    @DPTR,A
     57            msGreenCount = RGB_Green;
   \   00000E   EB           MOV     A,R3
   \   00000F   90....       MOV     DPTR,#msGreenCount
   \   000012   F0           MOVX    @DPTR,A
     58          }
   \   000013   D083         POP     DPH
   \   000015   D082         POP     DPL
   \   000017   02....       LJMP    ?BRET
     59          
     60          
     61          //ÑÓÊ±º¯Êý£¬ÒÔºÁÃëÎªµ¥Î»

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     62          void DelayMilliseconds(unsigned long xms) {
   \                     DelayMilliseconds:
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
     63              unsigned long i, j;
     64              for (i = xms; i > 0; i--) {
   \   000005   8A..         MOV     ?V0 + 4,R2
   \   000007   8B..         MOV     ?V0 + 5,R3
   \   000009   8C..         MOV     ?V0 + 6,R4
   \   00000B   8D..         MOV     ?V0 + 7,R5
   \   00000D   8008         SJMP    ??DelayMilliseconds_0
     65                  for (j = 6000; j > 0; j--) {
   \                     ??DelayMilliseconds_1:
   \   00000F   90....       MOV     DPTR,#__Constant_ffffffff
   \   000012   78..         MOV     R0,#?V0 + 4
   \   000014   12....       LCALL   ?L_ADD_X
   \                     ??DelayMilliseconds_0:
   \   000017   E5..         MOV     A,?V0 + 4
   \   000019   45..         ORL     A,?V0 + 5
   \   00001B   45..         ORL     A,?V0 + 6
   \   00001D   45..         ORL     A,?V0 + 7
   \   00001F   70EE         JNZ     ??DelayMilliseconds_1
     66                      // ¿Õ²Ù×÷£¬½öÑ­»·¼ÆÊý£¬²»Ö´ÐÐ¶îÍâ²Ù×÷
     67                  }
     68              }
     69          }
   \   000021   7F08         MOV     R7,#0x8
   \   000023   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment INTVEC, offset 0x4b, root
   \                     `??Timer1??INTVEC 75`:
   \   00004B   02....       LJMP       (Timer1)

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_ffffffff:
   \   000000   FFFFFFFF     DD 4294967295

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??DimLightRouterApp_InitDimLightHardware?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    DimLightRouterApp_InitDimLightHardware

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??LED_change?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    LED_change

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??DelayMilliseconds?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    DelayMilliseconds

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     DelayMilliseconds                  0      0     16
     DimLightRouterApp_InitDimLightHardware
                                        0      0      0
     LED_change                         2      0      0
     Timer1                             5      0      0


   Segment part sizes:

     Function/Label                                 Bytes
     --------------                                 -----
     _A_P0                                             1
     _A_IEN0                                           1
     _A_IEN1                                           1
     T1CC0L                                            1
     T1CC0H                                            1
     T1CTL                                             1
     P0SEL                                             1
     P0DIR                                             1
     msDlCount                                         1
     msBlueCount                                       1
     msRedCount                                        1
     msGreenCount                                      1
     DimLightRouterApp_InitDimLightHardware
                                                      27
     Timer1                                          106
     ?Subroutine0                                      9
     LED_change                                       26
     DelayMilliseconds                                38
     ??Timer1??INTVEC 75                               3
     __Constant_ffffffff                               4
     ??DimLightRouterApp_InitDimLightHardware?relay    6
     ??LED_change?relay                                6
     ??DelayMilliseconds?relay                         6

 
  91 bytes in segment BANKED_CODE
  18 bytes in segment BANK_RELAYS
   3 bytes in segment INTVEC
 115 bytes in segment NEAR_CODE
   8 bytes in segment SFR_AN
   4 bytes in segment XDATA_ROM_C
   4 bytes in segment XDATA_Z
 
 224 bytes of CODE  memory (+ 3 bytes shared)
   0 bytes of CONST memory (+ 4 bytes shared)
   0 bytes of DATA  memory (+ 8 bytes shared)
   4 bytes of XDATA memory

Errors: none
Warnings: none
